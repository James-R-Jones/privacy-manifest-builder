(this["webpackJsonpprivacy-manifest-builder"]=this["webpackJsonpprivacy-manifest-builder"]||[]).push([[0],{245:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a(2),n=a.n(s),r=a(13),l=a.n(r),o=a(19),c=a(6),d=a(1),p=a(20),u=a(14),h=a.p+"static/media/logo.afa3dc39.svg",y=a(4),v=a(249),m=a(248),g={answers:y.item.reduce((function(e,t){return e[t.linkId]=[],e}),{})};function f(e){return{resourceType:"QuestionnaireResponse",status:"completed",questionnaire:"http://privacy-manifest.smarthealthit.org/questionnaire",subject:"<subject>",identifier:{value:"<app-resource-identifying-uri>"},authored:(new Date).toISOString(),item:y.item.map((function(t){return{linkId:t.linkId,text:t.text,definition:"http://privacy-manifest.smarthealthit.org",answer:e.answers[t.linkId]}}))}}function b(e){var t,a=Object(u.a)(y.item);try{for(a.s();!(t=a.n()).done;){var i=t.value,s=e.answers[i.linkId];if(i.required&&!s.length)return!1;if("url"===i.type){var n=x(s,"0.valueUri")||"";if(n&&!/^https?:\/\/.+/.test(n))return!1}}}catch(r){a.e(r)}finally{a.f()}return!0}function S(e){(function(){var e=document.getElementsByTagName("form")[0];return!!e.checkValidity()||(e.reportValidity(),!1)})()||e.preventDefault()}function j(e,t){switch(t.type){case"TOGGLE_MULTIPLE":var a=Object(p.a)(e.answers[t.linkId]),i=a.findIndex((function(e){return e.valueCoding.code===t.value.valueCoding.code}));return i>-1?a.splice(i,1):a.push(t.value),Object(d.a)(Object(d.a)({},e),{},{answers:Object(d.a)(Object(d.a)({},e.answers),{},Object(c.a)({},t.linkId,a))});case"TOGGLE_SINGLE":return Object(d.a)(Object(d.a)({},e),{},{answers:Object(d.a)(Object(d.a)({},e.answers),{},Object(c.a)({},t.linkId,e.answers[t.linkId].findIndex((function(e){return e.valueCoding.code===t.value.valueCoding.code}))>-1?[]:[t.value]))});case"SET_URI":var s=Object(d.a)(Object(d.a)({},e.answers),{},Object(c.a)({},t.linkId,[{valueUri:t.value}]));return Object(d.a)(Object(d.a)({},e),{},{answers:s});default:return e}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e)}function O(e){var t=e.text,a=e.extension,s=void 0===a?null:a,n=e.linkId,r=e.state,l=e.dispatch,o=t,c=null;if(Array.isArray(s)){var d=s.find((function(e){return"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label"===e.url}));d&&d.valueString&&(c=o,o=d.valueString)}return Object(i.jsxs)("div",{className:"col-lg-6",style:{marginBottom:"3rem"},children:[Object(i.jsx)("h4",{className:"text-success",children:o}),Object(i.jsx)("hr",{}),c&&Object(i.jsx)("p",{className:"form-text",children:c}),Object(i.jsx)(T,{questionId:n,state:r,dispatch:l})]})}function T(e){var t=e.questionId,a=e.state,s=e.dispatch,n=y.item.find((function(e){return e.linkId===t}));if("choice"===n.type){var r=y.contained.find((function(e){return"#".concat(e.id)===n.answerValueSet})).compose.include[0],l=r.concept,o=r.system;return n.repeats?Object(i.jsx)(i.Fragment,{children:l.map((function(e){return Object(i.jsx)(I,{attrs:{name:e.code,checked:a.answers[t].findIndex((function(t){return t.valueCoding.code===e.code}))>-1,onChange:function(){s({type:"TOGGLE_MULTIPLE",linkId:t,value:{valueCoding:{system:o,code:e.code,display:e.display}}})}},label:e.display,description:x(e,"designation.0.value")||null},"".concat(t,"_").concat(e.code))}))}):Object(i.jsx)(i.Fragment,{children:l.map((function(e){return Object(i.jsx)(I,{attrs:{name:e.code,type:"radio",checked:a.answers[t].findIndex((function(t){return t.valueCoding.code===e.code}))>-1,onChange:function(){s({type:"TOGGLE_SINGLE",linkId:t,value:{valueCoding:{system:o,code:e.code,display:e.display}}})}},label:e.display,description:x(e,"designation.0.value")||null},"".concat(t,"_").concat(e.code))}))})}return"url"===n.type?Object(i.jsx)(P,{linkId:t,value:x(a,"answers.".concat(t,".0.valueUri"))||null,onChange:function(e){s({type:"SET_URI",linkId:t,value:e.target.value})},required:!!n.required}):null}function P(e){var t=e.linkId,a=e.value,s=e.onChange,n=e.required,r=void 0!==n&&n;return Object(i.jsx)("input",{className:"form-control",type:"url",name:t,id:t,placeholder:"https://example.com",required:r,pattern:"^https?://.+",value:a||"",onChange:s})}function I(e){var t=e.attrs,a=e.label,s=e.description;return Object(i.jsx)("div",{className:"form-check",children:Object(i.jsxs)("label",{className:"form-check-label",children:[Object(i.jsx)("input",Object(d.a)(Object(d.a)({type:"checkbox"},t),{},{className:"form-check-input"}))," ",a,s&&Object(i.jsx)("p",{className:"text-muted",children:s})]})})}var M=function(){var e=Object(s.useReducer)(j,g),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("nav",{className:"navbar sticky-top navbar-expand-lg navbar-light bg-light",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("a",{className:"navbar-brand",href:"/",children:[Object(i.jsx)("img",{src:h,className:"App-logo",alt:"logo",style:{height:"1.4em",verticalAlign:"top",marginRight:"1ex"}})," Privacy Manifest Builder"]})})}),Object(i.jsxs)("main",{className:"container",style:{fontSize:"14px"},children:[Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"needs-validation",children:[Object(i.jsx)("div",{className:"row",children:y.item.map((function(e){return Object(i.jsx)(O,Object(d.a)(Object(d.a)({},e),{},{state:a,dispatch:n}),e.linkId)}))}),Object(i.jsxs)("div",{className:"card",children:[Object(i.jsxs)("h4",{className:"card-header",children:[Object(i.jsx)("a",{onClick:S,className:"btn btn-primary float-right",href:"data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(f(a),null,2)),download:"privacy-manifest.json",style:{margin:"-4px 0"},children:"Download"}),"Privacy Manifest ",!b(a)&&Object(i.jsx)("small",{children:Object(i.jsx)("b",{style:{verticalAlign:"text-top"},className:"badge badge-danger",children:"Invalid"})})]}),Object(i.jsx)("div",{className:"card-body",children:Object(i.jsx)(v.a,{customStyle:{background:"#FFF"},language:"json",style:m.a,children:JSON.stringify(f(a),null,2)})})]})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]}),Object(i.jsx)("nav",{className:"navbar fixed-bottom navbar-light bg-light",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"text-muted",children:["Read more about the SMART Privacy Manifest ",Object(i.jsx)("a",{href:"/",target:"_blank",rel:"noreferrer",children:"here"})]})})})]})};l.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(M,{})}),document.getElementById("root"))},4:function(e){e.exports=JSON.parse('{"id":"privacymanifest-questionnaire","contained":[{"id":"vs-data-storage-policy","compose":{"include":[{"concept":[{"code":"location-<US>","display":"US Partner","designation":[{"value":"Patient health data is stored by a business partner of the developer at a physical location in the United States."}]},{"code":"Cloud","display":"Cloud","designation":[{"value":"Patient health data is stored securely in the cloud."}]},{"code":"Local","display":"Local","designation":[{"value":"Patient health data is only stored locally by the developer."}]},{"code":"Encrypted","display":"Encrypted","designation":[{"value":"Patient health data is end-to-end encrypted."}]},{"code":"deleted","display":"Deleted upon request","designation":[{"value":"Stored patient data is automatically deleted upon removal of consent."}]},{"code":"kept","display":"Held for future use","designation":[{"value":"Already collected patient data is preserved by the developer for future use after an account closes."}]},{"code":"removed-when-deactivated","display":"Removed upon deactivation","designation":[{"value":"Previously collected patient data is deleted upon account deactivation."}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-storage-policy"}]},"description":"Glossary items for declaring data storage policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Storage","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Storage","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-storage-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-data-usage-policy","compose":{"include":[{"concept":[{"code":"primary-only","display":"Patient Care Only","designation":[{"value":"Patient data is used only for directly improving care quality of the patient."}]},{"code":"research","display":"Approved Research","designation":[{"value":"Patient data is used for IRB-approved research purposes."}]},{"code":"population-analytics","display":"Population analytics","designation":[{"value":"Select this if you are using patient data for population analytics."}]},{"code":"servicemachine-learning","display":"Machine Learning","designation":[{"value":"Patient data is used for machine learning."}]},{"code":"potential-impact","display":"Potential Family Impact","designation":[{"value":"This app collects and/or shares genetic and/or family history data that may impact people other than the patient giving access."}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-usage-policy"}]},"description":"Glossary items for declaring data Usage policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Usage","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Usage","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-usage-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-data-sharing-policy","compose":{"include":[{"concept":[{"code":"Deidentified","display":"Sharing (without identifiers)","designation":[{"value":"Identifying information are removed from patient data, which are later shared with partners."}]},{"code":"only-to-hippa-organizations","display":"Sharing (HIPAA)","designation":[{"value":"Patient data are shared ONLY with HIPAA business associates as part of care."}]},{"code":"one-time","display":"One-off sharing","designation":[{"value":"Patient data are only collected and shared for an initial period of time as described in the full privacy policy. Collection and sharing outside that window require additional consent."}]},{"code":"continuous","display":"Continuous sharing","designation":[{"value":"Once permission is obtained, patient data are collected and shared continuously as needed until permission is revoked by the patient."}]},{"code":"opt-out-of-transfer","display":"Optional transfer","designation":[{"value":"In the event of transfer of ownership or sale of company, the developer allows patients the option to deny transfer of data to the new company."}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-share-policy"}]},"description":"Glossary items for declaring data share policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Share","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Share","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-share-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-data-selling-policy","compose":{"include":[{"concept":[{"code":"deidentified","display":"Selling (no identifiers)","designation":[{"value":"Identifying information are removed from patient data, which are later sold to partners."}]},{"code":"with-consent","display":"Selling (OPT IN)","designation":[{"value":"Patients must opt in for the developer to sell their de-identified data."}]},{"code":"with-consent","display":"Selling (OPT OUT)","designation":[{"value":"Patients may opt out from the developer selling their de-identified data."}]},{"code":"no-selling","display":"Never sold","designation":[{"value":"Patient data is never sold by the developer in any form."}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-selling-policy"}]},"description":"Glossary items for declaring data selling policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Selling","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Selling","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-selling-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-patient-access-policy","compose":{"include":[{"concept":[{"code":"patient-read","display":"Transparent","designation":[{"value":"This app allows Patients to request to view all data the developer collects."}]},{"code":"patient-write","display":"Interactive","designation":[{"value":"Patient can add comments and/or corrections to data collected on them, and corrected/annotated data are sent to partners where applicable."}]},{"code":"managed","display":"No Access","designation":[{"value":"This app does not help patients view or mark up data collected on them."}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-patient-access-policy"}]},"description":"Glossary items for declaring patient access policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Patient Data Access","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Patient Data Access","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-patient-access-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-patient-updates","compose":{"include":[{"concept":[{"code":"policy-only","display":"Policy URL Only","designation":[{"value":"This app does not contact patients to provide updated privacy policies."}]},{"code":"email","display":"Email","designation":[{"value":"Patients can opt in to receiving updates to this app\'s privacy policy by email."}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-patient-updates"}]},"description":"Glossary items for declaring data share policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Updates to Privacy Policy","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Updates to Privacy Policy","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-patient-updates","version":"0.1","resourceType":"ValueSet"},{"id":"vs-data-selling-type","compose":{"include":[{"concept":[{"code":"deidentified","display":"DEIDENTIFIED"},{"code":"with-consent","display":"WITH-CONSENT"}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-selling-type"}]},"description":"Glossary items for declaring data selling policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Selling Type","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Selling Type","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-selling-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-compliance-certs","compose":{"include":[{"concept":[{"code":"carin-alliance","display":"CARIN Code of Condut","designation":[{"value":"This app upholds the CARIN alliance Code of Conduct (https://www.carinalliance.com/wp-content/uploads/2020/07/2020_CARIN_Code_of_Conduct_May-2020.pdf)."}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-compliance-certs"}]},"description":"Trust compliance by apps declared in the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Compliance Trust Certificates","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Compliance Trust Certificates","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-compliance-certs","version":"0.1","resourceType":"ValueSet"}],"approvalDate":"2020-12-15T16:09:49","code":[{"code":"privacymanifest_questionnaire","display":"Privacy Manifest Questionnaire","system":"http://privacy-manifest.smarthealthit.org"}],"copyright":"Copyright 2020 SMART Health IT","date":"2020-12-15T16:09:49","description":"Questionnaire for developer organizations to declare the privacy behavior of the app in the form of SMART Privacy Manifest (QuestionnaireResponse)","experimental":true,"item":[{"answerValueSet":"#vs-data-storage-policy","linkId":"data-storage-policy","repeats":true,"text":"Please select items that best describe your policies related to patient data storage.","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Data Storage Policies"}]},{"answerValueSet":"#vs-data-usage-policy","linkId":"data-usage-policy","repeats":true,"text":"Please select items that best describe your privacy policies related to usage of collected patient data.","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Data Usage Insights"}]},{"answerValueSet":"#vs-data-sharing-policy","linkId":"data-sharing-policy","repeats":true,"text":"Please select items that best describe your privacy policies related to patient data sharing.","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Data Sharing Policies"}]},{"answerValueSet":"#vs-data-selling-policy","linkId":"data-selling-policy","repeats":true,"text":"Please select items that best describe your privacy policies related to patient data selling.","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Data Selling Policies"}]},{"answerValueSet":"#vs-patient-access-policy","linkId":"patient-access-policy","repeats":true,"text":"Please select items that best describe your privacy policies related to patient data access.","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Patient Data Access Policies"}]},{"answerValueSet":"#vs-compliance-certs","linkId":"compliance-certs","repeats":true,"text":"Please select trust certificates you have obtained.","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Trust Certificates"}]},{"linkId":"privacy-policy-uri","text":"Please type in a link to your app\'s full privacy policy.","type":"url","required":false,"extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Privacy Policy"}]},{"answerValueSet":"#vs-patient-updates","linkId":"patient-updates","repeats":true,"text":"Please select items that best describe your policy related to informing patients of updates to privacy policies.","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Policy Updates"}]}],"lastReviewDate":"2020-12-15T16:09:49","name":"SMART Privacy Manifest Questionnaire","publisher":"SMART Health IT","status":"active","subjectType":["Organization"],"title":"SMART Privacy Manifest Questionnaire","resourceType":"Questionnaire"}')}},[[245,1,2]]]);
//# sourceMappingURL=main.6bdfbd4b.chunk.js.map