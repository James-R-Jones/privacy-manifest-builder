(this["webpackJsonpprivacy-manifest-builder"]=this["webpackJsonpprivacy-manifest-builder"]||[]).push([[0],{245:function(e,t,a){"use strict";a.r(t);var i=a(0),r=a(2),s=a.n(r),n=a(13),l=a.n(n),c=a(19),o=a(6),d=a(1),u=a(20),p=a(14),h=a.p+"static/media/logo.afa3dc39.svg",y=a(4),v=a(249),g=a(248),m={answers:y.item.reduce((function(e,t){return e[t.linkId]=[],e}),{})};function f(e){return{resourceType:"QuestionnaireResponse",status:"completed",questionnaire:"http://privacy-manifest.smarthealthit.org/questionnaire",subject:"<subject>",identifier:{value:"<app-resource-identifying-uri>"},authored:"<last updated privacy manifest>",item:y.item.map((function(t){return{linkId:t.linkId,text:t.text,definition:"http://privacy-manifest.smarthealthit.org",answer:e.answers[t.linkId]}}))}}function b(e){var t,a=Object(p.a)(y.item);try{for(a.s();!(t=a.n()).done;){var i=t.value,r=e.answers[i.linkId];if(i.required&&!r.length)return!1;if("url"===i.type){var s=x(r,"0.valueUri")||"";if(s&&!/^https?:\/\/.+/.test(s))return!1}}}catch(n){a.e(n)}finally{a.f()}return!0}function j(e){(function(){var e=document.getElementsByTagName("form")[0];return!!e.checkValidity()||(e.reportValidity(),!1)})()||e.preventDefault()}function S(e,t){switch(t.type){case"TOGGLE_MULTIPLE":var a=Object(u.a)(e.answers[t.linkId]),i=a.findIndex((function(e){return e.valueCoding.code===t.value.valueCoding.code}));return i>-1?a.splice(i,1):a.push(t.value),Object(d.a)(Object(d.a)({},e),{},{answers:Object(d.a)(Object(d.a)({},e.answers),{},Object(o.a)({},t.linkId,a))});case"TOGGLE_SINGLE":return Object(d.a)(Object(d.a)({},e),{},{answers:Object(d.a)(Object(d.a)({},e.answers),{},Object(o.a)({},t.linkId,e.answers[t.linkId].findIndex((function(e){return e.valueCoding.code===t.value.valueCoding.code}))>-1?[]:[t.value]))});case"SET_URI":var r=Object(d.a)(Object(d.a)({},e.answers),{},Object(o.a)({},t.linkId,[{valueUri:t.value}]));return Object(d.a)(Object(d.a)({},e),{},{answers:r});default:return e}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e)}function O(e){var t=e.text,a=e.extension,r=void 0===a?null:a,s=e.linkId,n=e.state,l=e.dispatch,c=t,o=null;if(Array.isArray(r)){var d=r.find((function(e){return"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label"===e.url}));d&&d.valueString&&(o=c,c=d.valueString)}return Object(i.jsxs)("div",{className:"col-lg-6",style:{marginBottom:"3rem"},children:[Object(i.jsx)("h4",{className:"text-success",children:c}),Object(i.jsx)("hr",{}),o&&Object(i.jsx)("p",{className:"form-text",children:o}),Object(i.jsx)(T,{questionId:s,state:n,dispatch:l})]})}function T(e){var t=e.questionId,a=e.state,r=e.dispatch,s=y.item.find((function(e){return e.linkId===t}));if("choice"===s.type){var n=y.contained.find((function(e){return"#".concat(e.id)===s.answerValueSet})).compose.include[0],l=n.concept,c=n.system;return s.repeats?Object(i.jsx)(i.Fragment,{children:l.map((function(e){return Object(i.jsx)(N,{attrs:{name:e.code,checked:a.answers[t].findIndex((function(t){return t.valueCoding.code===e.code}))>-1,onChange:function(){r({type:"TOGGLE_MULTIPLE",linkId:t,value:{valueCoding:{system:c,code:e.code,display:e.display}}})}},label:e.display,description:x(e,"designation.0.value")||null},"".concat(t,"_").concat(e.code))}))}):Object(i.jsx)(i.Fragment,{children:l.map((function(e){return Object(i.jsx)(N,{attrs:{name:e.code,type:"radio",checked:a.answers[t].findIndex((function(t){return t.valueCoding.code===e.code}))>-1,onChange:function(){r({type:"TOGGLE_SINGLE",linkId:t,value:{valueCoding:{system:c,code:e.code,display:e.display}}})}},label:e.display,description:x(e,"designation.0.value")||null},"".concat(t,"_").concat(e.code))}))})}return"url"===s.type?Object(i.jsx)(I,{linkId:t,value:x(a,"answers.".concat(t,".0.valueUri"))||null,onChange:function(e){r({type:"SET_URI",linkId:t,value:e.target.value})},required:!!s.required}):null}function I(e){var t=e.linkId,a=e.value,r=e.onChange,s=e.required,n=void 0!==s&&s;return Object(i.jsx)("input",{className:"form-control",type:"url",name:t,id:t,placeholder:"https://example.com",required:n,pattern:"^https?://.+",value:a||"",onChange:r})}function N(e){var t=e.attrs,a=e.label,r=e.description;return Object(i.jsx)("div",{className:"form-check",children:Object(i.jsxs)("label",{className:"form-check-label",children:[Object(i.jsx)("input",Object(d.a)(Object(d.a)({type:"checkbox"},t),{},{className:"form-check-input"}))," ",a,r&&Object(i.jsx)("p",{className:"text-muted",children:r})]})})}var A=function(){var e=Object(r.useReducer)(S,m),t=Object(c.a)(e,2),a=t[0],s=t[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("nav",{className:"navbar sticky-top navbar-expand-lg navbar-light bg-light",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("a",{className:"navbar-brand",href:"/",children:[Object(i.jsx)("img",{src:h,className:"App-logo",alt:"logo",style:{height:"1.4em",verticalAlign:"top",marginRight:"1ex"}})," Privacy Manifest Builder"]})})}),Object(i.jsxs)("main",{className:"container",style:{fontSize:"14px"},children:[Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"needs-validation",children:[Object(i.jsx)("div",{className:"row",children:y.item.map((function(e){return Object(i.jsx)(O,Object(d.a)(Object(d.a)({},e),{},{state:a,dispatch:s}),e.linkId)}))}),Object(i.jsxs)("div",{className:"card",children:[Object(i.jsxs)("h4",{className:"card-header",children:[Object(i.jsx)("a",{onClick:j,className:"btn btn-primary float-right",href:"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a.answers,null,2)),download:"privacy-manifest.json",style:{margin:"-4px 0"},children:"Download"}),"Privacy Manifest ",!b(a)&&Object(i.jsx)("small",{children:Object(i.jsx)("b",{style:{verticalAlign:"text-top"},className:"badge badge-danger",children:"Invalid"})})]}),Object(i.jsx)("div",{className:"card-body",children:Object(i.jsx)(v.a,{customStyle:{background:"#FFF"},language:"json",style:g.a,children:JSON.stringify(f(a),null,2)})})]})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]}),Object(i.jsx)("nav",{className:"navbar fixed-bottom navbar-light bg-light",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"text-muted",children:["Read more about the SMART Privacy Manifest ",Object(i.jsx)("a",{href:"/",target:"_blank",rel:"noreferrer",children:"here"})]})})})]})};l.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(A,{})}),document.getElementById("root"))},4:function(e){e.exports=JSON.parse('{"id":"privacymanifest-questionnaire","contained":[{"id":"vs-data-storage-policy","compose":{"include":[{"concept":[{"code":"location-<US>","display":"LOCATION-<US>","designation":[{"value":"Select this if you are storing data at location within US"}]},{"code":"Cloud","display":"CLOUD","designation":[{"value":"Select this if you are storing data in the cloud"}]},{"code":"Local","display":"LOCAL","designation":[{"value":"Select this if you are physically storing data at your location"}]},{"code":"Encrypted","display":"ENCRYPTED","designation":[{"value":"Select this if you are storing encrypted data"}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-storage-policy"}]},"description":"Glossary items for declaring data storage policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Storage","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Storage","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-storage-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-data-usage-policy","compose":{"include":[{"concept":[{"code":"servicemachine-learning","display":"SERVICEMACHINE-LEARNING","designation":[{"value":"Select this if you are using patient data for machine learning"}]},{"code":"research","display":"RESEARCH","designation":[{"value":"Select this if you are using patient data for research purposes"}]},{"code":"population-analytics","display":"POPULATION-ANALYTICS","designation":[{"value":"Select this if you are using patient data for population analytics"}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-usage-policy"}]},"description":"Glossary items for declaring data Usage policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Usage","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Usage","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-usage-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-data-sharing-policy","compose":{"include":[{"concept":[{"code":"Deidentified","display":"DEIDENTIFIED","designation":[{"value":"Select this if you are sharing de-identified patient data"}]},{"code":"only-to-hippa-organizations","display":"ONLY-TO-HIPAA-ORGANIZATIONS","designation":[{"value":"Select this if you are sharing patient data but ONLY with HIPAA compliant organization"}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-share-policy"}]},"description":"Glossary items for declaring data share policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Share","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Share","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-share-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-data-selling-policy","compose":{"include":[{"concept":[{"code":"deidentified","display":"DEIDENTIFIED","designation":[{"value":"Select this if you are selling deidentified patient data"}]},{"code":"with-consent","display":"WITH-CONSENT","designation":[{"value":"Select this if you are selling patient data with consent"}]}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-selling-policy"}]},"description":"Glossary items for declaring data selling policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Selling","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Selling","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-selling-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-data-selling-type","compose":{"include":[{"concept":[{"code":"deidentified","display":"DEIDENTIFIED"},{"code":"with-consent","display":"WITH-CONSENT"}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-selling-type"}]},"description":"Glossary items for declaring data selling policy of apps through the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Data Selling Type","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Data Selling Type","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-data-selling-policy","version":"0.1","resourceType":"ValueSet"},{"id":"vs-compliance-certs","compose":{"include":[{"concept":[{"code":"carrin-alliance","display":"CARRIN-ALLIANCE"}],"system":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-compliance-certs"}]},"description":"Trust compliance by apps declared in the privacy manifest","experimental":true,"name":"SMART Privacy Manifest ValueSet Compliance Trust Certificates","publisher":"SMART Health IT","status":"active","title":"SMART Privacy Manifest ValueSet Compliance Trust Certificates","url":"http://fhir-registry.smarthealthit.org/ValueSet/vs-privacymanifest-compliance-certs","version":"0.1","resourceType":"ValueSet"}],"approvalDate":"2020-12-15T16:09:49","code":[{"code":"privacymanifest_questionnaire","display":"Privacy Manifest Questionnaire","system":"http://privacy-manifest.smarthealthit.org"}],"copyright":"Copyright 2020 SMART Health IT","date":"2020-12-15T16:09:49","description":"Questionnaire for developer organizations to declare the privacy behavior of the app in the form of SMART Privacy Manifest (QuestionnaireResponse)","experimental":true,"item":[{"answerValueSet":"#vs-data-storage-policy","linkId":"data-storage-policy","repeats":true,"text":"Please select items that best describe your policy related to patient data storage","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Data Storage Policy"}]},{"answerValueSet":"#vs-data-usage-policy","linkId":"data-usage-policy","repeats":true,"text":"Please select items that best describe your privacy-policy related to patient data usage","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Data Usage Policy"}]},{"answerValueSet":"#vs-data-sharing-policy","linkId":"data-sharing-policy","repeats":true,"text":"Please select items that best describe your privacy-policy related to patient data sharing","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Data Sharing Policy"}]},{"answerValueSet":"#vs-data-selling-policy","linkId":"data-selling-policy","repeats":true,"text":"Please select items that best describe your privacy-policy related to patient data selling","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Data Selling Policy"}]},{"answerValueSet":"#vs-compliance-certs","linkId":"compliance-certs","repeats":true,"text":"Please select trust certificates you have obtained","type":"choice","extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Trust Certificates"}]},{"linkId":"privacy-policy-uri","text":"Please type in the link to your app\'s privacy policy","type":"url","required":false,"extension":[{"url":"http://fhir-registry.smarthealthit.org/extensions/questionnaire-item-label","valueString":"Privacy Policy"}]}],"lastReviewDate":"2020-12-15T16:09:49","name":"SMART Privacy Manifest Questionnaire","publisher":"SMART Health IT","status":"active","subjectType":["Organization"],"title":"SMART Privacy Manifest Questionnaire","resourceType":"Questionnaire"}')}},[[245,1,2]]]);
//# sourceMappingURL=main.9d2c564a.chunk.js.map